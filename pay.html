<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Payment Details | GAMING X LIGHT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){ emailjs.init("Jq3n4jPZiiiwdgY7_"); })();
</script>
<style>
body {
  margin:0; font-family:Arial; background:#0b0b0f; color:#fff; display:flex;
  justify-content:center; align-items:center; min-height:100vh; background: radial-gradient(circle at top, #1c1030, #0b0b0f 65%);
}
.container {
  width:100%; max-width:420px; background:#141414; padding:25px; border-radius:16px; border:1px solid rgba(255,255,255,.1);
  text-align:center; position:relative;
}
.logo { width:100px; margin-bottom:15px; }
h2 { margin-bottom:10px; }
input,select,button {
  width:100%; padding:12px; margin-bottom:12px; border-radius:10px; border:none; font-size:14px; outline:none;
}
input,select { background:#0f0f0f; color:#fff; }
button { background:#a855f7; color:#000; font-weight:800; cursor:pointer; }
button:disabled {opacity:.5; cursor:not-allowed;}
small {opacity:.6;}
.qr-container img { width:220px; margin:10px auto; display:block; border-radius:14px; box-shadow:0 0 20px #a855f7; }
#successBox {display:none; margin-top:15px;}
#successBox h2 {color:#00ffcc;}
</style>
</head>
<body>

<div class="container">
  <img src="logo.png" class="logo" alt="Logo">
  <h2 id="productName">Loading...</h2>
  <p id="priceText"></p>
  <div class="qr-container">
    <img src="qr.png" alt="QR Code">
  </div>

  <form id="orderForm">
    <input type="text" id="utr" placeholder="Payment UTR / Transaction ID" required>
    <input type="text" id="uid" placeholder="Guild UID" required>
    <select id="region">
      <option value="India">üáÆüá≥ India</option>
      <option value="Other">üåç Other</option>
    </select>
    <input type="text" id="telegram" placeholder="Telegram Username" required>
    <input type="tel" id="whatsapp" placeholder="WhatsApp Number" required>
    <input type="email" id="email" placeholder="Your Email Address" required>
    <button type="submit" id="submitBtn">SUBMIT ORDER</button>
    <small>Please wait 10‚Äì30 minutes after submission.</small>
  </form>

  <div id="successBox">
    <h2>‚úÖ ORDER RECEIVED!</h2>
    <p>Order saved. Admin will approve before sending confirmation email.</p>
    <a href="index.html" style="color:#a855f7;">‚¨Ö BACK TO HOME</a>
  </div>
</div>

<script>
// Get product & price from URL
const params = new URLSearchParams(window.location.search);
const product = params.get("product") || "Unknown Product";
const price = params.get("price") || "0";

document.getElementById("productName").innerText = product;
document.getElementById("priceText").innerText = "‚Çπ" + price;

document.getElementById("orderForm").addEventListener("submit", function(e){
  e.preventDefault();
  const btn = document.getElementById("submitBtn");
  btn.disabled = true; btn.innerText="PLEASE WAIT...";

  const orderData = {
    orderId: "GX-" + Date.now(),
    product: product,
    price: price,
    utr: document.getElementById("utr").value,
    uid: document.getElementById("uid").value,
    region: document.getElementById("region").value,
    telegram: document.getElementById("telegram").value,
    whatsapp: document.getElementById("whatsapp").value,
    email: document.getElementById("email").value,
    status: "Pending"
  };

  // Save to localStorage
  let orders = JSON.parse(localStorage.getItem("orders") || "[]");
  orders.push(orderData);
  localStorage.setItem("orders", JSON.stringify(orders));

  // Show success
  document.getElementById("orderForm").style.display = "none";
  document.getElementById("successBox").style.display = "block";
});
</script>

</body>
</html>
